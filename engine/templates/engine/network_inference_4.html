{% extends 'base.html' %}
{% load static %}
{% block extrahead %}

    <script type="text/javascript" charset="utf-8">
        /* Table initialisation */
        $(document).ready(function() {
            /* Pagination setup */
{#            {% if charts_length %}#}
{#                var options = {#}
{#                    currentPage: 1,#}
{#                    totalPages: {{ charts_length }},#}
{#                    bootstrapMajorVersion: 3,#}
{#                    numberOfPages: 10,#}
{#                    size:"normal",#}
{#                    onPageClicked: function(e,originalEvent,type,page){#}
{#                        var idx = page - 1;#}
{#                        $('#chart-img').attr("src",image_list[idx]);#}
{#                        $('#chart-desc').html(image_list_desc[idx]);#}
{#                    }#}
{#                }#}
{#                $('#imagespaginator').bootstrapPaginator(options);#}
{##}
{#                image_list = [];#}
{#                image_list_desc = [];#}
{#                {% for c in charts %}#}
{#                    image_list.push('{{ c.imagestore.url }}')#}
{#                    image_list_desc.push('{{ c.filename }}')#}
{#                {% endfor %}#}
{#            {% endif %}#}

{#            // DOWNLOAD AREA#}
{#            $('#downloadform input[name="files"]').change(function() {#}
{#                if ($(this).is(':checked')) {#}
{#                    $(this).closest('tr').attr('class','success')#}
{#                } else {#}
{#                    $(this).closest('tr').removeAttr('class','success')#}
{#                }#}
{#                if( $('#downloadform tbody :checked').length){#}
{#                    $('#downloadsubmit').removeAttr('disabled')#}
{#                } else {#}
{#                    $('#downloadsubmit').attr('disabled','disabled')#}
{#                }#}
{#            });#}
{#            $('#selectall').change(function() {#}
{#                if ($(this).is(':checked')) {#}
{#                    $('#downloadform tbody input[name="files"]').filter(':not(:checked)').click()#}
{#                } else {#}
{#                    $('#downloadform tbody input[name="files"]').filter(':checked').click()#}
{#                }#}
{#            });#}

            //TRIGGER EVENT
            {#                $("#tableslist").trigger("change")#}
        });
    </script>
{% endblock %}
{% block googleanalytics %}
{% endblock %}
{% block container %}

    <div class="row row-offcanvas row-offcanvas-right">
        <div class="col-md-12">
            <div class="row">
                <h1>Network inference result</h1>
                <div class="col-6">
                    {% if messages %}
                        {% for message in messages %}
                            <div class="alert alert-{{ message.tags }}">
                                <button type="button" class="close" data-dismiss="alert">&times;</button>
                                <p {% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</p>
                            </div>
                        {% endfor %}
                    {% endif %}
                </div><!--/span-->
                <!-- Nav tabs -->
                <ul class="nav nav-tabs">
                    <li class="active"><a href="#tables" data-toggle="tab">Tables</a></li>
                    <li><a href="#netvis" data-toggle="tab">Network visualization</a></li>
                    <li><a href="#charts" data-toggle="tab">Charts</a></li>
                    <li><a href="#download" data-toggle="tab">Download area</a></li>
                </ul>

                <!-- Tab panes -->
                <div class="tab-content">
                    <div class="tab-pane active" id="tables">
                        {% include 'engine/result_tables_preview.html' %}
                    </div>
                    <div class="tab-pane" id="netvis">
                        {% include 'engine/result_json_preview.html' %}
                    </div>
                    <div class="tab-pane" id="charts">
                        {% include 'engine/result_charts_preview.html' %}
                    </div>
                    <div class="tab-pane" id="download">
                        {% include 'engine/result_download_preview.html' %}
                    </div>
                </div>

            </div><!--/row-->
        </div><!--/span-->
    </div><!--/row-->
{% endblock container %}



