{% extends 'base.html' %}
{% load static %}

{% block extrahead %}
    <script type="application/javascript" src="http://sigmajs.org/js/sigma.min.js"></script>
    <script type="application/javascript" src="/static/js/sigma.parseJson.js"></script>
    <script type="application/javascript">
    function init() {
      sigma.publicPrototype.myCircularLayout = function() {
        var R = 100,
            i = 0,
            L = this.getNodesCount();

        this.iterNodes(function(n){
          n.x = Math.cos(Math.PI*(i++)/L)*R;
          n.y = Math.sin(Math.PI*(i++)/L)*R;
        });

        return this.position(0,0,1).draw();
      };

      sigma.publicPrototype.myRandomLayout = function() {
        var W = 300,
            H = 300;

        this.iterNodes(function(n){
          n.x = W*Math.random();
          n.y = H*Math.random();
        });

        return this.position(0,0,1).draw();
      };

  // Instanciate sigma.js and customize rendering :
      sigInst = sigma.init(document.getElementById('sigma-example')).drawingProperties({
        defaultLabelColor: '#fff',
        defaultLabelSize: 14,
        defaultLabelBGColor: '#fff',
        defaultLabelHoverColor: '#000',
        labelThreshold: 6,
        defaultEdgeType: 'curve'
      }).graphProperties({
        minNodeSize: 0.5,
        maxNodeSize: 5,
        minEdgeSize: 1,
        maxEdgeSize: 1,
        sideMargin: 50
      }).mouseProperties({
        maxRatio: 32
      });

      // Parse a GEXF encoded file to fill the graph
      // (requires "sigma.parseGexf.js" to be included)
      sigInst.parseJson('{% get_media_prefix %}{{ url }}');

      // Draw the graph :
      sigInst.draw();
    }

    if (document.addEventListener) {
      document.addEventListener("DOMContentLoaded", init, false);
    } else {
      window.onload = init;
    }
    </script>
    <style type="text/css">
      /* sigma.js context : */
      .sigma-parent {
        position: relative;
        border-radius: 4px;
        -moz-border-radius: 4px;
        -webkit-border-radius: 4px;
        background: #222;
        height: 500px;
      }
      .sigma-expand {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
      }
      .buttons-container{
        padding-bottom: 8px;
        padding-top: 12px;
      }
</style>
{% endblock %}
{% block container %}
<div class="row row-offcanvas row-offcanvas-right">

<div class="col-md-12 col-md-9">
          <div class="row">
            <h1>prova</h1>
            <div class="col-6">
            {% if messages %}
            {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">
                <button type="button" class="close" data-dismiss="alert">&times;</button>
                        <p {% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</p>
            </div>
            {% endfor %}
            {% endif %}
            <div class="panel panel-default">
                  <div class="panel-heading">
                    <h3 class="panel-title">prova prova</h3>
                  </div>
                  <div class="panel-body">
  <div class="span12 sigma-parent" id="sigma-example-parent">
    <div class="sigma-expand" id="sigma-example"></div>
  </div>
                  </div>
            </div>
           </div><!--/span-->
          </div><!--/row-->
        </div><!--/span-->
        {% include "navigation.html" %}

</div>
{% endblock container %}