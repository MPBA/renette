{% extends 'base.html' %}
{% load static %}
{% block extrahead %}
      <script type="text/javascript">
       jQuery(document).ready(function(){

          $("#load_ex_data").click(function(){
            jQuery.get('{% static 'example/netdist_test_data_1.csv' %}', function(data){
                var testdata = data;
                 $("#exampleData1").text("");
                 $("#exampleData1").text(testdata);
            });
            jQuery.get('{% static 'example/netdist_test_data_2.csv' %}', function(data){
                var testdata = data;
                 $("#exampleData2").text("");
                 $("#exampleData2").text(testdata);
            });


          });

          $('input:file[multiple]').change(
            function(e){
                console.log(e.currentTarget.files);
                var numFiles = e.currentTarget.files.length;
                    for (i=0;i<numFiles;i++){
                        fileSize = parseInt(e.currentTarget.files[i].size, 10)/1024;
                        filesize = Math.round(fileSize);
                        $('<li />').text(e.currentTarget.files[i].name).appendTo($('#output'));
                        $('<span />').addClass('filesize').text('(' + filesize + 'kb)').appendTo($('#output li:last'));
                    }
            });

           $("#reset_form").click(function(){
               $("#output").find('li').remove();
            });

        });



    </script>
{% endblock extrahead %}

{% block container %}
<div class="row row-offcanvas row-offcanvas-right">

        <div class="col-md-12 col-md-9">
          <div class="row">
            <h1>Network Distance [Step 1/3]</h1>
            <div class="col-6">
            {% if messages %}
            {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">
                <button type="button" class="close" data-dismiss="alert">&times;</button>
                        <p {% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</p>
            </div>
            {% endfor %}
            {% endif %}
              <h3>Load your files</h3>
              <form method="POST" enctype="multipart/form-data" role="form" class="form-horizontal" action="{% url 'network_distance_2' %}">
                  {% csrf_token %}
                  <div class="fileinput fileinput-new" data-provides="fileinput">
                      <div class="input-group">
                        <span class="input-group-addon btn btn-default btn-file"><input type="file" name="files" multiple></span>
                          <div class="form-control uneditable-input span3" data-trigger="fileinput">
                            <ul id="output"></ul>
                        </div>
                      </div>

                      <div class="checkbox-inline">
                        <label>
                          <input type="checkbox" name="exclude_col_header"> Exclude Columns Header
                        </label>
                      </div>
                      <div class="checkbox-inline">
                        <label>
                          <input type="checkbox" name="exclude_row_header"> Exclude Rows Header
                        </label>
                      </div>

                  </div>

                  <input type="submit" class="btn btn-go" name="Upload" value="Go >>">
                  <input type="reset" value="Reset" class="btn btn-danger" id="reset_form">
              </form>

            </div><!--/span-->
            <hr>
            <div class="col-6">
              <h3>Run tasks with Example Data</h3>
              <form role="form" class="form-horizontal">
                  <div class="form-group">
                    <label for="exampleInputEmail1"></label>
                    <div class="col-sm-9">
{#                        <textarea class="form-control" id="exampleData1" placeholder="Enter data ..." rows="5"></textarea>#}
{#                        <textarea class="form-control" id="exampleData2" placeholder="Enter data ..." rows="5"></textarea>#}
                    <table class="table table-striped table-hover">
                    <thead>
                      <tr>
                        <th>Filename</th>
                        <th>Type</th>
                        <th># Rows</th>
                        <th># Cols</th>
                        <th>Separator</th>
                      </tr>
                    </thead>

                        <tbody><tr>
                            <td>test_data_1.csv</td>
                            <td>text/csv</td>
                            <td>1000</td>
                            <td>1000</td>
                            <td>TAB</td>
                        </tr>
                        <tr>
                            <td>test_data_2.csv</td>
                            <td>text/csv</td>
                            <td>1000</td>
                            <td>1000</td>
                            <td>TAB</td>
                        </tr>
                    </tbody></table>
                    </div>
                    <div class="col-sm-offset-6">
                        <p style="text-align: justify">
                        You can run this tasks whit demo data. #TODO: long desc
                        <br>Start the task just clicking the Go button! Enjoy
                        </p>
                    </div>
                  </div>
                    <a href="#" role="button" class="btn btn-go">Go >></a>
              </form>
            </div><!--/span-->


          </div><!--/row-->
        </div><!--/span-->
        {% include "navigation.html" %}
</div><!--/row-->
{% endblock container %}



